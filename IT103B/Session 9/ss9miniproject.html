<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let names = ["MacBook Pro", "Dell XPS", "Logitech Mouse", "iPhone 15", "Samsung SSD"];
        let prices = [1500, 1200, 50, 999, 200];
        let stocks = [5, 3, 0, 10, 7];

        let choice;

        do {

            choice = +prompt(`
1. Lọc sản phẩm cao cấp
2. Kiểm tra trạng thái kho
3. Tính tổng giá trị kho
4. Giảm giá 10%
5. Tìm sản phẩm theo từ khóa
6. Báo cáo tồn kho
7. Thoát
`);

            switch (choice) {

                case 1: {

                    let premiumProducts = names.filter((name, index) => prices[index] > 500);

                    console.log("Sản phẩm cao cấp:");
                    console.log(premiumProducts.join(", "));

                    break;
                }

                case 2: {

                    let hasOutOfStock = stocks.some(stock => stock === 0);
                    let allAbove100 = prices.every(price => price > 100);

                    console.log("Có sản phẩm hết hàng:", hasOutOfStock);
                    console.log("Tất cả giá > 100:", allAbove100);

                    break;
                }

                case 3: {

                    let totalValue = prices.reduce((total, price, index) => {
                        return total + price * stocks[index];
                    }, 0);

                    console.log("Tổng giá trị kho:", totalValue);

                    break;
                }

                case 4: {

                    prices = prices.map(price => price * 0.9);

                    console.log("Đã giảm giá 10%");
                    console.log(prices);

                    break;
                }

                case 5: {

                    let keyword = prompt("Nhập từ khóa:").toLowerCase();

                    let results = names
                        .map((name, index) => ({
                            name: name,
                            price: prices[index],
                            stock: stocks[index]
                        }))
                        .filter(product =>
                            product.name.toLowerCase().includes(keyword)
                        );

                    if (results.length === 0) {
                        console.log("Không tìm thấy sản phẩm");
                    } else {

                        console.log("Kết quả tìm kiếm:");

                        results.forEach(p => {
                            console.log(`${p.name} - ${p.price} - ${p.stock}`);
                        });

                    }

                    break;
                }

                case 6: {

                    let statusList = stocks.map(stock =>
                        stock > 0 ? "Còn hàng" : "Hết hàng"
                    );

                    console.log("Báo cáo tồn kho:");

                    names.forEach((name, index) => {
                        console.log(name + " - " + statusList[index]);
                    });

                    break;
                }

                case 7:
                    console.log("Kết thúc chương trình");
                    break;

                default:
                    console.log("Lựa chọn không hợp lệ");

            }

        } while (choice !== 7);
    </script>
</body>

</html>