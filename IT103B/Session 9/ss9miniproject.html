<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let names = ["MacBook Pro", "Dell XPS", "Logitech Mouse", "iPhone 15", "Samsung SSD"];
        let prices = [1500, 1200, 50, 999, 200];
        let stocks = [5, 3, 0, 10, 7];

        let choice;
        do {
            choice = Number(prompt(
                `1. Lọc sản phẩm cao cấp
                2. Kiểm tra trạng thái kho
                3. Tính tổng giá trị kho
                4. Giảm giá 10%
                5. Tìm sản phẩm theo từ khóa
                6. Báo cáo tồn kho
                7. Thoát`));

            switch (choice) {
                case 1: {
                    let result = names.filter((name, index) => prices[index] > 500);
                    console.log("Sản phẩm cao cấp:", result.join(", "));
                    break;
                }
                case 2: {
                    let outOfStock = stocks.some(stock => stock === 0);
                    let allAbove100 = prices.every(price => price > 100);

                    console.log("Có sản phẩm hết hàng:", outOfStock);
                    console.log("Tất cả giá > 100:", allAbove100);
                    break;
                }
                case 3: {
                    let totalValue = prices.reduce((sum, price, index) => {
                        return sum + price * stocks[index];
                    }, 0);

                    console.log("Tổng giá trị kho:", totalValue);
                    break;
                }
                case 4: {
                    prices = prices.map(price => price * 0.9);
                    console.log("Giá sau khi giảm:", prices);
                    break;
                }
                case 5: {
                    let keyword = prompt("Nhập từ khóa tìm kiếm").toLowerCase();
                    let results = names
                        .map((name, index) => ({
                            name: name,
                            price: prices[index],
                            stock: stocks[index]
                        }))
                        .filter(product =>
                            product.name.toLowerCase().includes(keyword)
                        );
                    if (results.length === 0) {
                        console.log("Không tìm thấy sản phẩm");
                    } else {
                        results.forEach(p => {
                            console.log(p.name + " - " + p.price + " - " + p.stock);
                        });
                    }
                    break;
                }
                case 6: {
                    let status = stocks.map(stock => stock > 0 ? "Còn hàng" : "Hết hàng");
                    names.forEach((name, index) => {
                        console.log(name + " - " + status[index]);
                    });
                    break;
                }
                case 7:
                    console.log("Thoát chương trình");
                    break;
                default:
                    console.log("Lựa chọn không hợp lệ");
            }
        } while (choice !== 7);
    </script>
</body>

</html>