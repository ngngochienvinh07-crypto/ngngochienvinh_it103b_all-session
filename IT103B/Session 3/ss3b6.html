<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Xu ly khieu nai - phan hoi</title>
</head>
<body>
  <script>
    let tongPhanHoi = 0;

    let khieuNaiNghiemTrong = 0;
    let khieuNaiTrungBinh = 0;
    let khieuNaiNhe = 0;

    let deXuatCaiThien = 0;
    let phanHoiTichCuc = 0;

    while (true) {
      let tiepTuc = prompt("Co khieu nai/phan hoi moi tu ban doc khong? (co/khong)")
        .trim()
        .toLowerCase();

      if (tiepTuc === "khong") break;

      if (tiepTuc !== "co") {
        alert("Chi duoc nhap 'co' hoac 'khong'!");
        continue;
      }

      let tenBanDoc;
      while (true) {
        tenBanDoc = prompt("Nhap ten ban doc (khong duoc de trong):");
        if (tenBanDoc !== null && tenBanDoc.trim() !== "") break;
        alert("Ten ban doc khong duoc de trong!");
      }

      let maThe = prompt("Nhap ma the ban doc (co the bo trong):");

      let loai;
      while (true) {
        loai = parseInt(prompt(
          "Nhap loai phan hoi (1-Khieu nai, 2-De xuat, 3-Tich cuc):"
        ));
        if (loai === 1 || loai === 2 || loai === 3) break;
        alert("Loai chi duoc nhap 1, 2 hoac 3!");
      }

      let mucDo = 0;
      if (loai === 1) {
        while (true) {
          mucDo = parseInt(prompt(
            "Nhap muc do nghiem trong (1-Nhe, 2-Trung binh, 3-Nghiem trong):"
          ));
          if (mucDo === 1 || mucDo === 2 || mucDo === 3) break;
          alert("Muc do chi duoc nhap 1, 2 hoac 3!");
        }
      }

      let noiDung = prompt("Nhap noi dung ngan gon (tham khao):");

      tongPhanHoi++;

      if (loai === 1 && mucDo === 3) {
        console.log("→ Chuyen ngay lanh dao - Khieu nai nghiem trong");
        khieuNaiNghiemTrong++;
      } 
      else if (loai === 1 && mucDo === 2) {
        console.log("→ Ghi nhan, se xu ly trong ngay - Khieu nai trung binh");
        khieuNaiTrungBinh++;
      } 
      else if (loai === 1 && mucDo === 1) {
        console.log("→ Xu ly ngay tai quay - Khieu nai nhe");
        khieuNaiNhe++;
      } 
      else if (loai === 2) {
        console.log("→ Cam on! De xuat da duoc ghi nhan");
        deXuatCaiThien++;
      } 
      else {
        console.log("→ Cam on ban da phan hoi tich cuc!");
        phanHoiTichCuc++;
      }
    }

    console.log("===== BAO CAO CUOI CA =====");
    console.log("Tong so phan hoi/khieu nai da xu ly: " + tongPhanHoi);
    console.log("So khieu nai nghiem trong (muc 3): " + khieuNaiNghiemTrong);
    console.log("So khieu nai trung binh (muc 2): " + khieuNaiTrungBinh);
    console.log("So khieu nai nhe (muc 1): " + khieuNaiNhe);
    console.log("So de xuat cai thien: " + deXuatCaiThien);
    console.log("So phan hoi tich cuc: " + phanHoiTichCuc);
  </script>
</body>
</html>
